webpackJsonp([0],[,function(e,t,n){"use strict";n(2);var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};var a=chrome.runtime.getManifest().version;function l(e,t){Array.isArray(t)?t.forEach(function(t){e.appendChild(t)}):e.appendChild(t)}function c(e,t){var n=document.createElement(e);if(t){var r=!0,i=!1,o=void 0;try{for(var a,l,c=Object.keys(t)[Symbol.iterator]();!(r=(a=c.next()).done);r=!0)l=a.value,n.setAttribute(l,t[l])}catch(e){i=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}}return n}function u(e,t){t=t.trim().split(" ");var n=e.className.trim().split(" "),r=[].concat(n,t);e.setAttribute("class",r.toString().replace(","," "))}function s(e,t){(t=t.trim().split(" ")).forEach(function(t){e.setAttribute("class",e.className.replace(t,"").trim())})}window.onload=function(){function e(e){return Object.keys(e).length?void chrome.bookmarks.getChildren(e.id,function(e){return e.length?void e.forEach(function(e){!function(e){var t=e.url,n=e.id,a=e.title,u=c("li",{"data-id":n,class:"item"}),f=c("a",{href:t,class:"item-link",target:"_blank",title:a}),p=c("span",{class:"remove"}),g=function(e){var t=c("img",{class:"item-icon"}),n=e.url;return t.setAttribute("src",""+o.default.favicon_api+n.replace(/^(https|http):\/\//,"")),t}({url:t});f.innerHTML=a,l(u,[g,f,p]),l(h,u),function(e){function t(){n=!0}var n=e.complete;e.addEventListener("load",t),setTimeout(function(){n||(e.setAttribute("src",o.default.img_default),e.removeEventListener("load",t))},o.default.img_timeout)}(g),i||(h.clientHeight>v.clientHeight?r():(s(m,"scroll-show"),i=null,d=null)),y.push({title:a,id:n,url:t,el:u})}(e)}):void u(m,"is-empty")}):void u(m,"is-empty")}function t(){h.addEventListener("click",function(e){var t=e.target,n=t.getAttribute("class");return!!n&&void(-1<n.indexOf("remove")&&function(e){var t=e.parentNode,n=t.dataset.id;chrome.runtime.sendMessage({type:"remove",data:n},function(){t.remove()})}(t))})}function n(e){var t=h.querySelectorAll(".item");if(!t.length)return!1;e||t.forEach(function(e){s(e,"hidden")});var n=!0,r=!1,i=void 0;try{for(var o,a=y[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,c=(l.id,l.title.toLowerCase()),d=l.el,f=d.className;if(0>c.indexOf(e.toLowerCase())){if(0<=f.indexOf("hidden"))continue;u(d,"hidden")}else s(d,"hidden")}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}function r(){u(m,"scroll-show"),i=v.querySelector(".scroll"),d=i.querySelector(".scroll-handle"),function(){var e=this,t=v.clientHeight/h.clientHeight*v.clientHeight,n=v.clientHeight-t;d.style.height=t+"px",d.addEventListener("mousedown",function(t){return function(e,t){function n(e){var n=r+e.clientY-o;n=Math.max(0,Math.min(n,t)),d.style.transform="translate3d(0, "+n+"px, 0)";var a=n/t*(h.clientHeight-v.clientHeight);i.style.transform="translate3d(0, "+a+"px, 0)",v.scrollTop=a}var r=parseFloat(d.style.transform.split(",")[1],10)||0,o=e.clientY;d.addEventListener("mousemove",n),d.addEventListener("mouseup",function e(){d.removeEventListener("mousemove",n),d.removeEventListener("mouseup",e)})}.apply(e,[t,n])})}()}var i,d,f=document.querySelector("header"),m=document.querySelector("main"),v=document.querySelector("#list"),h=v.querySelector("#list ul"),p=document.getElementById("clear"),y=[];f.querySelector(".version").innerHTML=a,chrome.runtime.sendMessage({type:"get_data"}),chrome.runtime.onMessage.addListener(function(t){var n=t.type,r=t.data;"return_data"===n&&e(r)}),function(){var e;t(),p.addEventListener("click",function(){chrome.runtime.sendMessage({type:"clear"},function(){h.innerHTML=""})}),e=null,f.querySelector(".search").addEventListener("input",function(t){clearTimeout(e),e=setTimeout(function(){n(t.target.value)},300)}),f.querySelector(".search .remove").addEventListener("click",function(){f.querySelector(".search input").value="",n("")})}()}},function(e,t){}],[1]);