{"version":3,"sources":["webpack:///webpack/bootstrap 6f4de7ee23e87914a89b","webpack:///./src/pop.js","webpack:///./src/style.scss"],"names":["window","onload","$list","document","getElementById","$clear","postList","chrome","storage","local","get","data","readLaterList","concat","forEach","addPost","post","listener","addEventListener","$target","e","target","className","getAttribute","indexOf","remove","runtime","sendMessage","type","innerHTML","$parent","parentNode","index","dataset","details","url","info","$item","createElement","$link","$remove","$num","$icon","getIcon","setAttribute","title","appendChild","favIconUrl","$img","replace"],"mappings":"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","file":"pop.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 35);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6f4de7ee23e87914a89b","import './style.scss';\n\nwindow.onload = () => {\n  const $list = document.getElementById('list');\n  const $clear = document.getElementById('clear');\n\n  let postList = [];\n\n  // get postList\n  chrome.storage.local.get(null, data => {\n    if (!data.readLaterList) {\n      return false;\n    };\n\n    postList = [].concat(data.readLaterList);\n    if (!postList) {\n      return false;\n    };\n\n    postList.forEach(post => {\n      addPost(post)\n    })\n  })\n\n  listener();\n\n  /*\n   * utils\n   */\n  function listener() {\n    // list click post\n    $list.addEventListener('click', e => {\n      const $target = e.target;\n      const className = $target.getAttribute('class')\n      if (!className) {\n        return false;\n      }\n\n      // remove a post\n      if (className.indexOf('remove') > -1) {\n        remove($target);\n      }\n    })\n\n    // clear all post\n    $clear.addEventListener('click', () => {\n      chrome.runtime.sendMessage({\n        type: 'clear'\n      }, () => {\n        $list.innerHTML = '';\n      })\n    })\n  }\n\n\n  /*\n   * utils\n   */\n  function remove($target) {\n    const $parent = $target.parentNode;\n    const index = $parent.dataset.index;\n\n    chrome.runtime.sendMessage({\n      type: 'remove',\n      data: index\n    }, () => {\n      $parent.remove()\n    });\n  }\n\n  function addPost(details) {\n    const {\n      url,\n      index,\n      info\n    } = details;\n\n    // build post item modules\n    const $item = document.createElement('li');\n    const $link = document.createElement('a');\n    const $remove = document.createElement('span');\n    const $num = document.createElement('span');\n    const $icon = getIcon(info);\n\n    // set modules attribute\n    $link.setAttribute('href', url);\n    $link.innerHTML = info.title;\n    $num.innerHTML = `${index}.`;\n\n    $item.setAttribute('data-index', index);\n    $item.setAttribute('class', 'item');\n    $link.setAttribute('class', 'link');\n    $link.setAttribute('target', '_blank');\n    $remove.setAttribute('class', 'remove');\n    $num.setAttribute('class', 'num');\n\n    // append modules to post item\n    $item.appendChild($num);\n    $item.appendChild($icon);\n    $item.appendChild($link);\n    $item.appendChild($remove);\n\n    // append post item to post list\n    $list.appendChild($item);\n  }\n\n  // create && return $img element\n  function getIcon(info) {\n    const {\n      favIconUrl\n    } = info;\n    const $img = document.createElement('img');\n\n    if (favIconUrl && favIconUrl !== '') {\n      $img.setAttribute('src', favIconUrl);\n      return $img;\n    };\n\n    const {\n      url\n    } = info;\n\n    $img.setAttribute('src', `http://www.google.com/s2/favicons?domain=${url.replace(/^(https|http):\\/\\//, '')}`);\n    return $img;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pop.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/style.scss\n// module id = 36\n// module chunks = 1"],"sourceRoot":""}