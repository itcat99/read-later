webpackJsonp([1],{76:function(e,t,n){"use strict";var r,a=i(n(21)),c=i(n(22)),o=(r=(0,c.default)(a.default.mark(function e(){var t,n=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){chrome.tabs.query({active:!0,currentWindow:!0},function(n){1===n.length?e(n[0]):t()})});case 2:t=e.sent,s.push({url:t.url,index:s.length,info:t}),u("add",function(){f(s,l.apply(n))});case 5:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)});function i(e){return e&&e.__esModule?e:{default:e}}var s=[];function u(e,t){"remove"===e&&function(e){s.splice(e,1),s.length&&s.map(function(e,t){e.index=t}),f(s)}(t.index),"clear"===e&&(chrome.storage.sync.remove("readLaterList"),s=[]),"add"===e&&t.apply(this),d()}function d(){var e=s.length;chrome.browserAction.setBadgeText({text:99<e?"+"+e:""+e})}function f(e,t){chrome.storage.sync.set({readLaterList:e},function(){t&&t()})}function l(){chrome.notifications.create({iconUrl:"./icons/icon_128.png",type:"basic",title:"success!",message:"add a read later post."})}chrome.storage.sync.get(null,function(e){var t=e.readLaterList;Array.isArray(t)&&t.length&&(s=t||[]),d()}),chrome.runtime.onMessage.addListener(function(e){u(e.type,e.data)}),chrome.contextMenus.create({title:"read later",contexts:["page"],onclick:o}),chrome.commands.onCommand.addListener(function(e){"add-new-post"===e&&o()})}},[76]);