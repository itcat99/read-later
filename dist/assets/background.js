!function(e){function t(t){for(var n,c,o=t[0],s=t[1],i=t[2],d=0,l=[];d<o.length;d++)c=o[d],a[c]&&l.push(a[c][0]),a[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(f&&f(t);l.length;)l.shift()();return u.push.apply(u,i||[]),r()}function r(){for(var e,t=0;t<u.length;t++){for(var r=u[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(u.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={2:0},u=[];function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var i=0;i<o.length;i++)t(o[i]);var f=s;u.push([204,0]),r()}({204:function(e,t,r){"use strict";var n=h(r(61)),a=h(r(62)),u=function(){var e=(0,a.default)(n.default.mark(function e(t){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.default)("search",{title:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,a.default)(n.default.mark(function e(t){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.default)("create",{title:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.default)(n.default.mark(function e(t){var r,a,u,c,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t[0].id,a=Object.assign({},t[0]),t.shift(),e.t0=n.default.keys(t);case 4:if((e.t1=e.t0()).done){e.next=21;break}return u=e.t1.value,e.next=8,(0,p.default)("getChildren",t[u].id);case 8:c=e.sent,e.t2=n.default.keys(c);case 10:if((e.t3=e.t2()).done){e.next=16;break}return o=e.t3.value,e.next=14,(0,p.default)("move",c[o].id,{parentId:r});case 14:e.next=10;break;case 16:return e.next=18,(0,p.default)("remove",t[u].id);case 18:return e.abrupt("return",a);case 21:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,a.default)(n.default.mark(function e(){var t;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=n.default.keys(b);case 2:if((e.t1=e.t0()).done){e.next=10;break}return t=e.t1.value,e.next=6,(0,p.default)("remove",b[t].id);case 6:b=[],w(),e.next=2;break;case 10:e.next=15;break;case 12:throw e.prev=12,e.t2=e.catch(0),new Error(e.t2);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.default)(n.default.mark(function e(t){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.default)("remove",t);case 2:return e.next=4,f();case 4:y("success","remove post.");case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.default)("getChildren",v.id);case 2:b=e.sent,w();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.default)(n.default.mark(function e(t,r){var a,u;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a={parentId:v.id,title:t,url:r},u=!0,b.forEach(function(e){e.url===r&&(u=!1)}),u){e.next=6;break}return y("warning","you has the same post."),e.abrupt("return",!1);case 6:return e.next=8,(0,p.default)("create",a);case 8:return e.next=10,f();case 10:y("success","add a read later post.");case 11:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}(),l=h(r(92)),p=h(r(205));function h(e){return e&&e.__esModule?e:{default:e}}var v={},b=[],x=l.default,m=x.title;function w(){if(!v.id)return chrome.browserAction.setBadgeText({text:"0"}),!1;var e=b.length;chrome.browserAction.setBadgeText({text:e>99?"+"+e:""+e})}function g(){chrome.runtime.onMessage.addListener(function(e){!function(e,t){"remove"===e&&i(t);"clear"===e&&s();"get_data"===e&&chrome.runtime.sendMessage({type:"return_data",data:v});"get_settings"===e&&chrome.runtime.sendMessage({type:"return_settings",data:x});"reset_settings"!==e&&"save_settings"!==e||function(e,t){var r=void 0;t&&t.title!==m&&(r=!0);x="reset_settings"===e?l.default:t,r&&(m=x.title,(0,p.default)("update",v.id,{title:m}))}(e,t)}(e.type,e.data)}),chrome.commands.onCommand.addListener(function(e){"add-new-post"===e&&k()})}function y(e,t){chrome.notifications.create({iconUrl:"./icons/icon_128.png",type:"basic",title:e,message:t})}function k(){var e=this;chrome.tabs.query({active:!0,currentWindow:!0},function(){var t=(0,a.default)(n.default.mark(function t(r){var a,u,c;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==r.length){e.next=6;break}return a=r[0],u=a.title,c=a.url,e.next=4,d(u,c);case 4:e.next=7;break;case 6:throw new Error("add post ERROR");case 7:case"end":return e.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}())}chrome.browserAction.setPopup({popup:"./popup.html"}),(0,a.default)(n.default.mark(function e(){var t,r,a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(m);case 2:t=e.sent,r=t.length,a=void 0,e.t0=r,e.next=0===e.t0?8:1===e.t0?12:14;break;case 8:return e.next=10,c(m);case 10:return a=e.sent,e.abrupt("break",18);case 12:return a=t[0],e.abrupt("break",18);case 14:return e.next=16,o(t);case 16:return a=e.sent,e.abrupt("break",18);case 18:return v=Object.assign({},v,a),e.next=21,f();case 21:chrome.browserAction.setBadgeBackgroundColor({color:"#4779ED"}),chrome.contextMenus.create({title:"read later",contexts:["page"],onclick:k}),g();case 24:case"end":return e.stop()}},e,void 0)}))()},205:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new Promise(function(t,n){try{var a;(a=chrome.bookmarks)[e].apply(a,r.concat([function(e){t(e)}]))}catch(e){n(e)}})}}});